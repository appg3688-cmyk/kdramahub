<!doctype html>
<html lang="en">
<head>
  <script src="https://fpyf8.com/88/tag.min.js" data-zone="163860" async data-cfasync="false"></script>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>K-DRAMA HUB â€” New Uploaded Episodes</title>
<style>
:root {
  --bg:#eaf2ff; --panel:#0b1320; --card:#ffffff; --text:#0b0f1a;
  --muted:#475569; --danger:#b91c1c; --danger-dk:#7f1d1d; --ring:rgba(2,6,23,.1);
  --footer-bg:#d1d5db; --footer-text:#111827;
  --ad-bg:#f3f4f6; --ad-text:#1f2937; --ad-highlight:#3b82f6;
  --menu-height: 70px;
  --success:#10b981; --success-dk:#047857;
  --search-bg:#f8fafc; --search-focus:#e2e8f0;
}
body.dark {
  --bg:#0f172a; --panel:#1e293b; --card:#1e293b; --text:#f1f5f9;
  --muted:#cbd5e1; --danger:#dc2626; --danger-dk:#7f1d1d; --ring:rgba(255,255,255,.1);
  --footer-bg:#1f2937; --footer-text:#f1f5f9;
  --ad-bg:#1e293b; --ad-text:#e5e7eb; --ad-highlight:#60a5fa;
  --success:#10b981; --success-dk:#065f46;
  --search-bg:#1e293b; --search-focus:#334155;
}
*{box-sizing:border-box}body{margin:0;font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;line-height:1.5;color:var(--text);background:var(--bg);transition:.3s}
.container{width:min(1200px,100% - 32px);margin:0 auto}

/* HEADER */
header{background:var(--panel);color:#fff;position:fixed;top:0;left:0;width:100%;z-index:1000;box-shadow:0 2px 15px rgba(0,0,0,0.2);transition:all 0.3s}
.nav{display:flex;align-items:center;justify-content:space-between;padding:12px 0;height:var(--menu-height)}
.brand-box{display:flex;align-items:center;gap:12px;text-decoration:none}
.logo-img{width:40px;height:40px;object-fit:contain;transition:all 0.3s}
.brand-box:hover .logo-img{transform:rotate(10deg)}
.brand{font-weight:800;font-size:1.3rem;background:linear-gradient(90deg,#f43f5e,#e11d48);-webkit-background-clip:text;-webkit-text-fill-color:transparent;transition:all 0.3s}
.brand-box:hover .brand{background:linear-gradient(90deg,#e11d48,#f43f5e)}
.toggle-btn{background:#fff;color:#000;border:none;border-radius:8px;padding:8px 12px;cursor:pointer;transition:all 0.3s;display:flex;align-items:center;gap:5px;font-weight:600}
body.dark .toggle-btn{background:#334155;color:#f1f5f9}

/* MENU */
nav.menu{display:flex;gap:18px;align-items:center}
nav.menu a{color:#fff;text-decoration:none;font-weight:600;position:relative;transition:all 0.3s;padding:8px 0;font-size:0.95rem}
nav.menu a:hover{transform:translateY(-2px);color:#fca5a5}
nav.menu a::after{content:'';position:absolute;bottom:0;left:0;width:0;height:2px;background:#f43f5e;transition:width 0.3s}
nav.menu a:hover::after{width:100%}
nav.menu .dropdown{position:relative}
nav.menu .dropdown-content{
  display:none;position:absolute;background:var(--panel);top:100%;left:0;min-width:200px;
  border-radius:8px;padding:10px;z-index:100;animation:fadeIn 0.3s;box-shadow:0 5px 20px rgba(0,0,0,0.3)
}
nav.menu .dropdown-content a{display:block;padding:8px 12px;color:#fff;font-weight:500;white-space:nowrap;border-radius:4px}
nav.menu .dropdown-content a:hover{background:rgba(255,255,255,0.1);transform:none}
nav.menu .dropdown:hover>.dropdown-content{display:block}

/* Sub-dropdown */
nav.menu .dropdown-sub{position:relative}
nav.menu .dropdown-sub .dropdown-content{
  top:0;left:100%;margin-left:5px;
}
nav.menu .dropdown-sub:hover>.dropdown-content{display:block}

/* SEARCH BAR - OPTIMIZED */
.search-box{display:flex;align-items:center;border:2px solid var(--search-focus);border-radius:30px;padding:4px;background:var(--search-bg);transition:all 0.3s;width:250px;max-width:100%}
.search-box:focus-within{border-color:#f43f5e;box-shadow:0 0 0 3px rgba(244, 63, 94, 0.2)}
.search-box input{border:none;outline:none;background:transparent;padding:8px 12px;flex:1;font-size:0.9rem;color:var(--text)}
.search-box input::placeholder{color:var(--muted);opacity:0.8}
.search-box button{border:none;background:#f43f5e;color:#fff;padding:8px 16px;border-radius:30px;cursor:pointer;transition:all 0.3s;display:flex;align-items:center;justify-content:center;width:36px;height:36px}
.search-box button:hover{background:#e11d48;transform:scale(1.05)}
.search-box button svg{width:16px;height:16px;fill:currentColor}
body.dark .search-box{background:var(--search-bg);border-color:var(--search-focus)}
body.dark .search-box input{color:var(--text)}

/* HAMBURGER */
.hamburger{display:none;flex-direction:column;gap:5px;cursor:pointer;padding:10px;transition:all 0.3s;margin-left:10px}
.hamburger span{width:28px;height:3px;background:#fff;border-radius:4px;transition:all 0.3s}
.hamburger:hover span{background:#fca5a5}
.menu-mobile{display:none;flex-direction:column;gap:16px;background:var(--panel);padding:20px;animation:slideDown 0.3s;position:fixed;top:var(--menu-height);left:0;width:100%;box-shadow:0 5px 15px rgba(0,0,0,0.2);z-index:999;max-height:calc(100vh - var(--menu-height));overflow-y:auto}
.menu-mobile a{color:#fff;text-decoration:none;transition:all 0.3s;padding:10px 15px;border-radius:6px}
.menu-mobile a:hover{background:rgba(255,255,255,0.1);transform:translateX(5px)}
.menu-mobile .dropdown-content{display:none;padding-left:20px;flex-direction:column;animation:fadeIn 0.3s}
.menu-mobile .dropdown.open>.dropdown-content{display:flex;gap:8px}
@media(max-width:992px){
  nav.menu{display:none}
  .hamburger{display:flex}
  .search-box{width:200px}
}
@media(max-width:768px){
  .search-box{width:180px}
  .menu-mobile.show{display:flex}
}

/* CONTENT */
main {margin-top: calc(var(--menu-height) + 25px);}
.section-title{margin:20px 0 15px;background:linear-gradient(90deg,#0f172a,#1e293b);color:#fff;padding:16px 20px;border-radius:12px;font-weight:900;animation:glow 2s infinite alternate;font-size:1.2rem}
body.dark .section-title{background:linear-gradient(90deg,#1e293b,#0f172a)}
.list{display:grid;gap:16px}
.item{background:var(--card);border:1px solid #e2e8f0;border-radius:14px;padding:18px;box-shadow:0 6px 16px var(--ring);transition:all 0.3s}
.item:hover{transform:translateY(-3px);box-shadow:0 8px 25px var(--ring)}
.item-inner{display:flex;flex-direction:column;gap:12px}
.top{color:var(--muted);font-size:.9rem;display:flex;align-items:center;gap:8px}
.top svg{width:14px;height:14px;fill:currentColor}
.title{font-weight:900;font-size:1.1rem}
.actions{display:flex;gap:12px;flex-wrap:wrap}
.btn-danger{background:linear-gradient(180deg,var(--danger),var(--danger-dk));color:#fff;padding:10px 18px;border-radius:8px;text-decoration:none;font-weight:700;transition:all 0.3s;display:inline-flex;align-items:center;gap:6px}
.btn-danger:hover{opacity:.9;transform:scale(1.05);box-shadow:0 4px 12px rgba(220, 38, 38, 0.3)}
.btn-success{background:linear-gradient(180deg,var(--success),var(--success-dk));color:#fff;padding:10px 18px;border-radius:8px;text-decoration:none;font-weight:700;transition:all 0.3s;display:inline-flex;align-items:center;gap:6px}
.btn-success:hover{opacity:.9;transform:scale(1.05);box-shadow:0 4px 12px rgba(16, 185, 129, 0.3)}
@media(min-width:680px){.item-inner{flex-direction:row;justify-content:space-between;align-items:center}}

/* ADS */
.ad-container {
  background: var(--ad-bg);
  border-radius: 12px;
  padding: 18px;
  margin: 25px 0;
  border: 1px solid rgba(0,0,0,0.1);
  overflow: hidden;
  position: relative;
  animation: fadeInUp 0.5s;
}
.ad-title {
  font-weight: bold;
  color: var(--ad-text);
  margin-bottom: 10px;
  animation: textGlow 2s infinite alternate;
  font-size: 1.1rem;
}
.ad-description {
  color: var(--ad-text);
  font-size: 0.95rem;
  margin-bottom: 10px;
  animation: slideInLeft 0.5s;
}
.ad-link {
  color: var(--ad-highlight);
  text-decoration: none;
  font-weight: 600;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  position: relative;
}
.ad-link:hover {
  text-decoration: underline;
}
.ad-link::after {
  content: "â†’";
  position: absolute;
  right: -15px;
  opacity: 0;
  transition: all 0.3s;
}
.ad-link:hover::after {
  right: -20px;
  opacity: 1;
}

/* VIDEO PLAYER MODAL */
.video-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.9);
  z-index: 1000;
  display: flex;
  justify-content: center;
  align-items: center;
  animation: fadeIn 0.3s;
}
.video-container {
  position: relative;
  width: 90%;
  max-width: 900px;
}
.close-btn {
  position: absolute;
  top: -45px;
  right: 0;
  background: #f43f5e;
  color: white;
  border: none;
  border-radius: 50%;
  width: 35px;
  height: 35px;
  font-size: 20px;
  cursor: pointer;
  z-index: 1001;
  transition: all 0.3s;
  display: flex;
  align-items: center;
  justify-content: center;
}
.close-btn:hover {
  transform: rotate(90deg);
  background: #e11d48;
}
.video-iframe {
  width: 100%;
  height: 500px;
  border: none;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
}
@media (max-width: 768px) {
  .video-iframe {
    height: 300px;
  }
}

/* ANIMATIONS */
@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}
@keyframes colorShift {
  0% { color: #fff; }
  25% { color: #fca5a5; }
  50% { color: #93c5fd; }
  75% { color: #86efac; }
  100% { color: #fff; }
}
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes slideDown {
  from { transform: translateY(-20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}
@keyframes glow {
  from { box-shadow: 0 0 5px rgba(244, 63, 94, 0.5); }
  to { box-shadow: 0 0 15px rgba(244, 63, 94, 0.8); }
}
@keyframes fadeInUp {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}
@keyframes textGlow {
  from { text-shadow: 0 0 5px rgba(244, 63, 94, 0.3); }
  to { text-shadow: 0 0 10px rgba(244, 63, 94, 0.6); }
}
@keyframes slideInLeft {
  from { transform: translateX(-20px); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}
@keyframes float {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-5px); }
  100% { transform: translateY(0px); }
}
@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* FOOTER */
footer{background:var(--footer-bg);color:var(--footer-text);text-align:center;padding:20px 10px;margin-top:40px;border-top:1px solid rgba(0,0,0,0.1)}
.footer-link{color:inherit;text-decoration:none;font-weight:700;transition:all 0.3s;display:inline-flex;align-items:center;gap:5px}
.footer-link:hover{color:#f43f5e;transform:scale(1.05)}
#datetime{animation:colorShift 5s infinite;margin-top:10px;font-size:0.9rem}
</style>
</head>
<body>
<!-- HEADER -->
<header>
  <div class="container nav">
    <a href="#" class="brand-box">
      <img src="https://i.postimg.cc/hG6SwnnB/image-removebg-preview.png" alt="K-Drama Hub Logo" class="logo-img">
      <div class="brand">K-DRAMA HUB</div>
    </a>
    <nav class="menu">
      <a href="#">ğŸ“¢ Join Telegram</a>
      <a href="#">ğŸ“© Contact Admin</a>
      <a href="#">ğŸ¬ All Drama</a>
      <div class="dropdown">
        <a href="#">ğŸ“‚ Categories â–¾</a>
        <div class="dropdown-content">
          <div class="dropdown-sub">
            <a href="#">â¤ï¸ Romance â–¸</a>
            <div class="dropdown-content">
              <a href="#">ğŸ‡°ğŸ‡· Korean</a>
              <a href="#">ğŸ‡¨ğŸ‡³ Chinese</a>
              <a href="#">ğŸ‡¯ğŸ‡µ Japanese</a>
            </div>
          </div>
          <div class="dropdown-sub">
            <a href="#">ğŸ”¥ Action â–¸</a>
            <div class="dropdown-content">
              <a href="#">ğŸ”ª Thriller</a>
              <a href="#">âš”ï¸ War</a>
              <a href="#">ğŸ¥‹ Martial Arts</a>
            </div>
          </div>
          <a href="#">ğŸ˜‚ Comedy</a>
          <a href="#">ğŸ§Ÿ Horror</a>
          <a href="#">ğŸ« School</a>
        </div>
      </div>
      <!-- Optimized Search Bar -->
      <form class="search-box" onsubmit="event.preventDefault(); searchDrama();">
        <input type="text" id="searchInput" placeholder="Search drama..." autocomplete="off"/>
        <button type="submit" title="Search">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 0 0 1.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 0 0-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 0 0 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
          </svg>
        </button>
      </form>
    </nav>
    <div style="display:flex;gap:10px;align-items:center">
      <button class="toggle-btn" id="modeToggle"><span id="modeIcon">ğŸŒ™</span> <span id="modeText">Dark</span></button>
      <div class="hamburger" id="hamburger"><span></span><span></span><span></span></div>
    </div>
  </div>
  <!-- MOBILE MENU -->
  <div class="menu-mobile" id="mobileMenu">
    <a href="#">ğŸ“¢ Join Telegram</a>
    <a href="#">ğŸ“© Contact Admin</a>
    <a href="#">ğŸ¬ All Drama</a>
    <div class="dropdown" id="mobileDropdown1">
      <a href="javascript:void(0)">ğŸ“‚ Categories â–¾</a>
      <div class="dropdown-content">
        <div class="dropdown" id="mobileSub1">
          <a href="javascript:void(0)">â¤ï¸ Romance â–¾</a>
          <div class="dropdown-content">
            <a href="#">ğŸ‡°ğŸ‡· Korean</a>
            <a href="#">ğŸ‡¨ğŸ‡³ Chinese</a>
            <a href="#">ğŸ‡¯ğŸ‡µ Japanese</a>
          </div>
        </div>
        <div class="dropdown" id="mobileSub2">
          <a href="javascript:void(0)">ğŸ”¥ Action â–¾</a>
          <div class="dropdown-content">
            <a href="#">ğŸ”ª Thriller</a>
            <a href="#">âš”ï¸ War</a>
            <a href="#">ğŸ¥‹ Martial Arts</a>
          </div>
        </div>
        <a href="#">ğŸ˜‚ Comedy</a>
        <a href="#">ğŸ§Ÿ Horror</a>
        <a href="#">ğŸ« School</a>
      </div>
    </div>
    <form class="search-box" onsubmit="event.preventDefault(); searchDrama();" style="margin:15px 0">
      <input type="text" id="searchInputMobile" placeholder="Search drama..." autocomplete="off"/>
      <button type="submit" title="Search">
        <svg viewBox="0 0 24 24" width="20" height="20">
          <path d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 0 0 1.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 0 0-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 0 0 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
        </svg>
      </button>
    </form>
  </div>
</header>

<!-- CONTENT -->
<main class="container">
  <div class="section-title">New Uploaded Episodes</div>
  
  <!-- First Ad with Animation -->
  <div class="ad-container">
    <div class="ad-title">Web3 ads with onchain targeting</div>
    <div class="ad-description">Advertise to crypto natives with Slise</div>
    <a href="https://slise.xyz" target="_blank" class="ad-link">slise.xyz</a>
  </div>
  
  <section class="list" id="episodeList">
    <article class="item">
      <div class="item-inner">
        <div>
          <div class="top">
            <svg viewBox="0 0 24 24" width="14" height="14">
              <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 10H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm-8 4H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z"/>
            </svg>
            8/16/2025
          </div>
          <div class="title">Episode 07 - The Winning Try (2025)</div>
        </div>
        <div class="actions">
          <a class="btn-danger" href="#">
            <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
              <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
            </svg>
            Download Episode
          </a>
          <a class="btn-success" href="#" onclick="playVideo('c6ov4nnKxvs'); return false;">
            <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm4 0h-2V8h2v8z"/>
            </svg>
            How To Download
          </a>
        </div>
      </div>
    </article>
    
    <!-- Second Ad with Animation -->
    <div class="ad-container" style="animation-delay:0.2s">
      <div class="ad-title">Web3 ads with onchain targeting</div>
      <div class="ad-description">Advertise to crypto natives with Slise</div>
      <a href="https://slise.xyz" target="_blank" class="ad-link">slise.xyz</a>
    </div>
    
    <article class="item">
      <div class="item-inner">
        <div>
          <div class="top">
            <svg viewBox="0 0 24 24" width="14" height="14">
              <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 10H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm-8 4H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z"/>
            </svg>
            8/15/2025
          </div>
          <div class="title">Episode 08 - My Girlfriend Is the Man! (2025)</div>
        </div>
        <div class="actions">
          <a class="btn-danger" href="#">
            <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
              <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
            </svg>
            Download Episode
          </a>
          <a class="btn-success" href="#" onclick="playVideo('c6ov4nnKxvs'); return false;">
            <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm4 0h-2V8h2v8z"/>
            </svg>
            How To Download
          </a>
        </div>
      </div>
    </article>
    
    <!-- Third Ad with Animation -->
    <div class="ad-container" style="animation-delay:0.4s">
      <div class="ad-title">Advertise in this ad space</div>
      <div class="ad-description">Create a campaign in just 5 minutes</div>
      <a href="https://aads.com" target="_blank" class="ad-link">aads.com</a>
    </div>
  </section>
</main>

<!-- FOOTER -->
<footer>
  <div style="animation:float 3s infinite">Korean Drama Store</div>
  <div><a class="footer-link" href="https://t.me/joinchat/xxxx" target="_blank">
    <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
      <path d="M9.78 18.65l.28-4.23 7.68-6.92c.34-.31-.07-.46-.52-.19L7.74 13.3 3.64 12c-.88-.25-.89-.86.2-1.3l15.97-6.16c.73-.33 1.43.18 1.15 1.3l-2.72 12.81c-.19.91-.74 1.13-1.5.71L12.6 16.3l-1.99 1.93c-.23.23-.42.42-.83.42z"/>
    </svg>
    Join Us Telegram
  </a></div>
  <div id="datetime"></div>
</footer>

<script>
// Theme toggle with better animation
const btn = document.getElementById('modeToggle');
const modeIcon = document.getElementById('modeIcon');
const modeText = document.getElementById('modeText');

// Check for saved theme preference or use preferred color scheme
const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
const currentTheme = localStorage.getItem('theme') || (prefersDark ? 'dark' : 'light');

if (currentTheme === 'dark') {
  document.body.classList.add('dark');
  modeIcon.textContent = 'â˜€ï¸';
  modeText.textContent = 'Light';
} else {
  modeIcon.textContent = 'ğŸŒ™';
  modeText.textContent = 'Dark';
}

btn.addEventListener('click', () => {
  document.body.classList.toggle('dark');
  const isDark = document.body.classList.contains('dark');
  
  // Update icon and text
  modeIcon.textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
  modeText.textContent = isDark ? 'Light' : 'Dark';
  
  // Save preference
  localStorage.setItem('theme', isDark ? 'dark' : 'light');
  
  // Add animation to mode toggle
  btn.style.animation = "none";
  setTimeout(() => {
    btn.style.animation = "pulse 0.5s";
    modeIcon.style.animation = "rotate 0.5s";
  }, 10);
});

// Hamburger toggle with better animation
document.getElementById('hamburger').addEventListener('click', () => {
  const menu = document.getElementById('mobileMenu');
  menu.classList.toggle('show');
  
  // Animate hamburger to X
  const spans = document.querySelectorAll('.hamburger span');
  if (menu.classList.contains('show')) {
    spans[0].style.transform = 'rotate(45deg) translate(5px, 5px)';
    spans[1].style.opacity = '0';
    spans[2].style.transform = 'rotate(-45deg) translate(5px, -5px)';
    document.body.style.overflow = 'hidden'; // Prevent scrolling when menu is open
  } else {
    spans[0].style.transform = '';
    spans[1].style.opacity = '';
    spans[2].style.transform = '';
    document.body.style.overflow = ''; // Re-enable scrolling
  }
});

// Close mobile menu when clicking outside
document.addEventListener('click', (e) => {
  const menu = document.getElementById('mobileMenu');
  const hamburger = document.getElementById('hamburger');
  
  if (menu.classList.contains('show') && 
      !menu.contains(e.target) && 
      !hamburger.contains(e.target)) {
    menu.classList.remove('show');
    const spans = document.querySelectorAll('.hamburger span');
    spans[0].style.transform = '';
    spans[1].style.opacity = '';
    spans[2].style.transform = '';
    document.body.style.overflow = '';
  }
});

// Mobile dropdown toggles
document.querySelectorAll(".menu-mobile .dropdown>a").forEach(link => {
  link.addEventListener("click", function() {
    this.parentElement.classList.toggle("open");
  });
});

// Search filter with debounce
let searchTimeout;
function searchDrama() {
  clearTimeout(searchTimeout);
  searchTimeout = setTimeout(() => {
    let input = document.getElementById("searchInput")?.value.toLowerCase() || 
                document.getElementById("searchInputMobile")?.value.toLowerCase();
    let items = document.querySelectorAll("#episodeList .item");
    
    items.forEach(item => {
      let title = item.querySelector(".title").textContent.toLowerCase();
      item.style.display = title.includes(input) ? "" : "none";
      
      // Add highlight animation for matching items
      if (title.includes(input)) {
        item.style.animation = "none";
        setTimeout(() => {
          item.style.animation = "pulse 0.5s";
        }, 10);
      }
    });
  }, 300);
  
  // Add search animation
  const searchBtn = document.querySelector('.search-box button');
  searchBtn.style.animation = "none";
  setTimeout(() => {
    searchBtn.style.animation = "pulse 0.5s";
  }, 10);
}

// Initialize search inputs
document.getElementById("searchInput")?.addEventListener("input", searchDrama);
document.getElementById("searchInputMobile")?.addEventListener("input", searchDrama);

// Date/time with better formatting
function updateTime() {
  const now = new Date();
  const options = { 
    weekday: 'long', 
    year: 'numeric', 
    month: 'long', 
    day: 'numeric',
    hour: '2-digit', 
    minute: '2-digit',
    second: '2-digit'
  };
  document.getElementById("datetime").textContent = now.toLocaleDateString('en-US', options);
}
setInterval(updateTime, 1000);
updateTime();

// Add hover animation to all buttons
document.querySelectorAll('a, button').forEach(btn => {
  btn.addEventListener('mouseenter', () => {
    btn.style.transform = 'scale(1.05)';
  });
  btn.addEventListener('mouseleave', () => {
    btn.style.transform = '';
  });
});

// YouTube video player function with better animations
function playVideo(videoId) {
  // Create modal container
  const modal = document.createElement('div');
  modal.className = 'video-modal';
  modal.style.opacity = '0';
  document.body.appendChild(modal);
  
  // Fade in animation
  setTimeout(() => {
    modal.style.opacity = '1';
    modal.style.transition = 'opacity 0.3s';
  }, 10);
  
  // Create video container
  const videoContainer = document.createElement('div');
  videoContainer.className = 'video-container';
  videoContainer.style.transform = 'scale(0.9)';
  videoContainer.style.opacity = '0';
  
  // Create close button
  const closeBtn = document.createElement('button');
  closeBtn.className = 'close-btn';
  closeBtn.innerHTML = '&times;';
  closeBtn.onclick = function() {
    modal.style.opacity = '0';
    setTimeout(() => {
      document.body.removeChild(modal);
    }, 300);
  };
  
  // Create iframe
  const iframe = document.createElement('iframe');
  iframe.className = 'video-iframe';
  iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0`;
  iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';
  iframe.allowFullscreen = true;
  
  // Assemble elements
  videoContainer.appendChild(closeBtn);
  videoContainer.appendChild(iframe);
  modal.appendChild(videoContainer);
  
  // Animate video container in
  setTimeout(() => {
    videoContainer.style.transform = 'scale(1)';
    videoContainer.style.opacity = '1';
    videoContainer.style.transition = 'all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
  }, 100);
  
  // Close modal when clicking outside
  modal.onclick = function(e) {
    if (e.target === modal) {
      modal.style.opacity = '0';
      setTimeout(() => {
        document.body.removeChild(modal);
      }, 300);
    }
  };
  
  // Add keyboard escape functionality
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
      modal.style.opacity = '0';
      setTimeout(() => {
        document.body.removeChild(modal);
      }, 300);
    }
  });
}

// Add loading animation
document.addEventListener('DOMContentLoaded', () => {
  document.body.style.opacity = '0';
  setTimeout(() => {
    document.body.style.opacity = '1';
    document.body.style.transition = 'opacity 0.5s';
  }, 10);
});
</script>
</body>
</html>
